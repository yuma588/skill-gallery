# 图表模板和配置指南

本文档提供常用图表类型的模板和最佳实践。

## 图表类型选择指南

### 根据数据类型选择

| 数据类型 | 推荐图表 | 说明 | 示例 |
|---------|---------|------|------|
| 时间序列 | 折线图 | 展示随时间变化的趋势 | 销售趋势、股价走势 |
| 分类对比 | 柱状图 | 比较不同类别的数值 | 各部门销售额对比 |
| 频数分布 | 直方图 | 展示数值的分布 | 成绩分布、年龄分布 |
| 相关关系 | 散点图 | 展示两个变量的关系 | 身高与体重、广告与销售 |
| 占比构成 | 饼图 | 展示部分与整体的关系 | 市场份额、预算分配 |
| 分布比较 | 箱线图 | 比较多个组的数据分布 | 不同地区收入分布 |
| 多维关系 | 气泡图 | 展示三个变量的关系 | GDP、人口、人均收入 |
| 层次结构 | 树状图 | 展示层次和占比 | 公司组织结构、产品分类 |

### 根据分析目的选择

| 目的 | 推荐图表 | 关键要素 |
|------|---------|---------|
| 展示趋势 | 折线图、面积图 | 时间轴、清晰的趋势线 |
| 对比差异 | 柱状图、条形图 | 基线对齐、排序 |
| 展示分布 | 直方图、箱线图 | 分组、中心值 |
| 展示关系 | 散点图、热力图 | 相关性、聚集模式 |
| 展示占比 | 饼图、环形图、堆叠图 | 总和、各部分标签 |
| 展示流程 | 流程图、桑基图 | 节点、流向 |

## 折线图模板

### 基础折线图
```
用途: 展示单个指标的时序变化

配置:
- X轴: 时间（日期、月份、季度）
- Y轴: 数值（销售额、访问量等）
- 线条: 单条折线

特点:
- 清晰展示趋势
- 可添加数据点标记
- 适合多周期对比
```

### 多折线图
```
用途: 对比多个指标的时间变化

配置:
- X轴: 时间
- Y轴: 数值
- 线条: 多条折线（不同颜色）

设计建议:
- 使用不同颜色区分
- 添加图例
- 限制线条数量（最多5条）
- 考虑使用次坐标轴
```

### 平滑折线图
```
用途: 展示长期趋势，过滤短期波动

配置:
- 使用移动平均数据
- 线条更平滑

适用场景:
- 原始数据波动较大
- 重点关注整体趋势
- 展示预测线
```

## 柱状图模板

### 垂直柱状图
```
用途: 类别数值对比

配置:
- X轴: 类别（部门、产品、地区等）
- Y轴: 数值
- 柱体: 矩形条

设计建议:
- 按数值排序（升序或降序）
- 添加数值标签
- 柱体宽度适中
- 使用对比色
```

### 水平柱状图
```
用途: 类别名称较长时的对比

配置:
- Y轴: 类别
- X轴: 数值
- 柱体: 水平矩形

适用场景:
- 类别名称较长
- 需要更多标签空间
- 从上到下的排序更直观
```

### 分组柱状图
```
用途: 同时比较多个维度

配置:
- X轴: 主类别
- Y轴: 数值
- 柱体: 分组排列

设计建议:
- 同组使用相近颜色
- 不同组使用对比色
- 添加组标签
- 每个柱子添加数值
```

### 堆叠柱状图
```
用途: 展示总量和构成

配置:
- X轴: 类别
- Y轴: 数值（总量）
- 柱体: 分段堆叠

适用场景:
- 展示部分与整体
- 时间序列的构成变化
- 预算或收入构成
```

## 散点图模板

### 基础散点图
```
用途: 探索两个变量的关系

配置:
- X轴: 自变量
- Y轴: 因变量
- 点: 散点

设计建议:
- 点的大小适中
- 使用半透明（alpha）
- 添加趋势线
- 标注相关系数
```

### 气泡图
```
用途: 展示三个变量的关系

配置:
- X轴: 变量1
- Y轴: 变量2
- 点大小: 变量3

适用场景:
- 多维数据探索
- 点大小表示权重
- 时间序列的气泡演化
```

## 箱线图模板

### 单组箱线图
```
用途: 展示数据的分布特征

组成部分:
- 箱体: Q1到Q3（50%数据）
- 中线: 中位数
- 须: 1.5×IQR范围
- 点: 异常值

洞察:
- 中位数位置
- 数据分布宽度
- 异常值数量
- 对称性判断
```

### 多组箱线图
```
用途: 对比多个组的分布

配置:
- X轴: 组别
- Y轴: 数值
- 箱体: 多个并排

设计建议:
- 按中位数排序
- 使用同一色系
- 箱体颜色可区分组别
```

## 饼图模板

### 基础饼图
```
用途: 展示部分与整体的比例

配置:
- 扇区: 不同类别
- 标签: 类别名称和百分比

适用场景:
- 类别较少（≤5个）
- 展示构成关系
- 各部分之和有意义
```

### 环形图
```
用途: 现代化的饼图

特点:
- 中心空白
- 可放置总数或关键指标
- 更现代的视觉效果

设计建议:
- 使用渐变色
- 添加交互效果
- 外圈添加标签
```

## 颜色方案

### 单色系（Sequential）
```
用途: 表示数量或强度

推荐配色:
- 蓝色系: [蓝色, 浅蓝, 深蓝]
- 绿色系: [绿色, 浅绿, 深绿]
- 红色系: [红色, 浅红, 深红]

适用场景:
- 热力图
- 数值映射
- 强度表示
```

### 对比色系（Diverging）
```
用途: 表示正负值或偏离

推荐配色:
- 红蓝对比: [红色, 白色, 蓝色]
- 红绿对比: [红色, 白色, 绿色]

适用场景:
- 相关性热力图
- 正负增长
- 偏差分析
```

### 分类色系（Categorical）
```
用途: 区分不同类别

推荐配色:
- 标准色: [蓝, 红, 绿, 橙, 紫, 棕]
- 柔和色: [浅蓝, 浅红, 浅绿, 浅橙]
- 高对比: [深蓝, 红色, 绿色, 橙色]

使用原则:
- 区分度高
- 色盲友好
- 不超过10种
```

## 图表样式配置

### 通用样式

#### 尺寸
```
标准: 800×600 (4:3)
宽屏: 1200×600 (2:1)
打印: 800×800 (1:1)
移动: 400×400 (1:1)
```

#### 字体
```
标题: 14-16pt, 加粗
轴标签: 10-12pt
图例: 10-12pt
数据标签: 9-10pt
注释: 8-10pt
```

#### 线条和边框
```
网格线: 细线, 灰色, alpha=0.3
坐标轴: 中等粗细, 黑色
图例边框: 细线, alpha=0.5
```

### 专业配色示例

#### 商务蓝
```json
{
  "primary": "#2C3E50",
  "secondary": "#3498DB",
  "accent": "#E74C3C",
  "success": "#27AE60",
  "warning": "#F39C12"
}
```

#### 数据科学配
```json
{
  "blue": "#3498DB",
  "red": "#E74C3C",
  "green": "#2ECC71",
  "orange": "#F39C12",
  "purple": "#9B59B6",
  "teal": "#1ABC9C"
}
```

#### 柔和现代
```json
{
  "palette": [
    "#5470c6",
    "#91cc75",
    "#fac858",
    "#ee6666",
    "#73c0de",
    "#3ba272",
    "#fc8452",
    "#9a60b4"
  ]
}
```

## 最佳实践

### 标题和标签
```
要求:
1. 简洁明了（≤15字）
2. 准确反映内容
3. 避免缩写和行话
4. 包含单位（如：万元、%）

示例:
✅ "2024年月度销售额趋势"
❌ "销售"
✅ "各地区营收对比（万元）"
❌ "地区营收"
```

### 图例设计
```
原则:
1. 位置合适（右上或底部）
2. 清晰可读
3. 与图表对应
4. 必要时分组
```

### 数据标签
```
策略:
1. 大数值添加千位分隔符
2. 小数保留2位
3. 百分比加%
4. 必要时使用简化单位（K, M, B）

示例:
1,234,567
45.67%
$12.5K
```

### 网格线
```
用途:
1. 辅助读数
2. 对齐数据
3. 不应喧宾夺主

配置:
- 主要网格: 实线, alpha=0.3
- 次要网格: 虚线, alpha=0.1
- 间隔均匀
```

### 动画和交互
```
静态报告:
- 避免动画
- 直接展示最终状态

交互式报告:
- 渐进动画
- 悬停提示
- 点击交互
- 筛选器

时间控制:
- 持续时间 < 1秒
- 无循环动画
- 可跳过选项
```

## 常见问题

### Q: 如何选择合适的图表类型？

A: 使用决策流程：
1. 确定数据类型（时间、分类、数值）
2. 确定分析目的（趋势、对比、分布、关系）
3. 查阅上方的选择指南
4. 测试多个类型，选择最直观的

### Q: 柱状图和折线图如何选择？

A:
- 时间序列趋势 → 折线图
- 类别对比 → 柱状图
- 同时展示趋势和对比 → 组合图

### Q: 如何处理大量类别？

A:
- 水平柱状图：更多标签空间
- Top-N分析：只显示前N个
- 分组小类：合并为"其他"
- 交互式图表：支持筛选

### Q: 如何确保色盲友好？

A:
- 使用对比色而非渐变色
- 配合符号或纹理
- 使用经过验证的配色方案（如ColorBrewer）
- 提供黑白版本

### Q: 如何导出高质量图表？

A:
- 分辨率：≥300 DPI
- 矢量格式：SVG/PDF（可缩放）
- 位图格式：PNG（网页用）
- 颜色模式：RGB（屏幕）或CMYK（打印）
